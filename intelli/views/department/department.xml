<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
  
      <record id="view_intelli_department_search" model="ir.ui.view">
        <field name="name">intelli.department.search</field>
        <field name="model">intelli.department</field>
        <field name="arch" type="xml">
            <search string="Busqueda">
               
                <filter string="Nombre" name="name" />
                <separator/>
                <field name="name"/>
                <separator/>

                <filter string="Torre" name="tower"/>
                <separator/>
                <field name="tower" />
                <separator/>
                
                 <filter string="InstalaciÃ³n" name="instalation"/>
                <separator/>
                <field name="instalation" />
                <separator/>
              
              
              
            
            </search>
        </field>
    </record>


      <record id="department_view_tree" model="ir.ui.view">
          <field name="name">tree.department</field>
          <field name="model">intelli.department</field>
          <field name="arch" type="xml" >
              <tree string="Contacts" class="custom_img" >
                <field name="id" invisible="1" />
                <field name="tower" />
                <field name="name"/>
                  <button name="button_open" string="Areas" type="object"/>
                <field name="map" widget='image'  />
                <field name="instalation"/>
                 <button name="button_duplicate" string="Duplicar" type="object"/>
               
              </tree>
          </field>
      </record>
   
         <record id="department_view_form_associate" model="ir.ui.view">
          <field name="name">intelli.form.department.assosiate</field>
          <field name="model">intelli.department</field>
          <field name="arch" type="xml" >
            <form>
                     <div class="row">
                     
                       <div class="col-sm-12"> 
                           <group>
                               <field name="id" invisible="1" />
                                <field name="tower" invisible="1" />
                                <field name="name" invisible="1"/>
                               
                                <field name="instalation" invisible="1"/>
                              
                                 <field name="map" widget='image' style="width:300px;" invisible="1" />
                          </group>
                        </div>
                       
                   </div> 
                   
                    <div class="row" >
                   
                    <div class="col-md-12">
                                   <field name="id" invisible="1" />                            
                                   <field name="department_areas"  widget="open_one2many_line" context="{'default_parent_department': id}" >
                                     <tree
                                          string="Areas"       
                                      >   
                                          <field name="parent_tower"  />   
                                           <field name="parent_department" />
                                       
                                          <field name="area" />   
                                          <field name="name" />
                                          <field name="style" />  
                                          
                                          <field name="with_w"   />                
                                          <field name="heigth_h"  />
                                          <field name="fall" />
                                          <field name="control" />
                                      </tree>                                      
                                   </field> 
                                
                    </div>   
               
                   </div>     
        
            
            
            </form>
          </field>
      </record>
     
      <record id="department_view_form" model="ir.ui.view">
          <field name="name">intelli.form</field>
          <field name="model">intelli.department</field>
          <field name="arch" type="xml" >
            <form duplicate="0">
              <sheet>
              <!--icon="fa-window-maximize"-->
                <div class="oe_button_box" name="button_box">
                  <button name="button_open" type="object" class="oe_stat_button" style="text-align:center; font-weight:bold;"   string="Areas">
                     <field name="count_areas"  style=" text-decoration: none;  pointer-events: none;"/>
                  </button>
                  <button name="toggle_active" type="object" class="oe_stat_button" style="text-align:center; font-weight:bold;" string="Activo">
                    <field name="active" string="Archivado" widget="boolean_toggle" style=" text-decoration: none;  pointer-events: none;"/>
                  </button>

                </div>
                   <div class="row">
                     
                       <div class="col-sm-12"> 
                           <group>
                               <field name="id" invisible="1" />
                                <field name="tower" />
                                <field name="name"/>
                               
                                <field name="instalation"/>
                              
                                 <field name="map" widget='image' style="width:300px;" />
                                
                                 
                          </group>
                        </div>
                       
                   </div> 
                    
                      <notebook invisible="1">
                        <page string="Areas" >
                                 
                                   <field name="department_areas"  widget="open_one2many_line"     attrs="{'invisible': [('tower', '=', False)]}"   context="{'default_parent_department': id}"  >
                                     <tree 
                                          string="Areas"    
                                      >
                                        
                                         
                                       
                                        <field name="area" />   
                                        <field name="name" />
                                        <field name="style" />
                                        <field name="with_w" />                
                                        <field name="heigth_h" />
                                        <field name="fall" />
                                        <field name="control" />
                                        <button name="button_duplicate_no_open" string="Duplicar" type="object"/>
                                      </tree>                                      
                                   </field> 
                                
                        </page>  
                        
                        </notebook>
                    
         
             
              </sheet>
              <div class="oe_chatter" modifiers="{}">
                <field name="message_follower_ids" widget="mail_followers" modifiers="{}"/>
                <field name="activity_ids" widget="mail_activity" modifiers="{}"/>
                <field name="message_ids" widget="mail_thread" modifiers="{}" options="{'display_log_button': True}"/>
              </div>
            </form>
          </field>
      </record>


      <record id="action_intelli_department" model="ir.actions.act_window">
           <field name="name">Departamentos</field>
           <field name="type">ir.actions.act_window</field>
           <field name="res_model">intelli.department</field>
          
           <field name="view_mode">tree,form</field>
           <field name="help" type="html">
               <p class="o_view_nocontent_smiling_face">
                  Create a contact in your address book
               </p>
               <p>
                Odoo helps you to easily track all activities related to a customer.
               </p>
           </field>
       </record>

       <record id="action_department_tree" model="ir.actions.act_window.view">
         <field eval="1" name="sequence"/>
         <field name="view_mode">tree</field>
         <field name="view_id" ref="department_view_tree"/>
         <field name="act_window_id" ref="action_intelli_department"/>
       </record>


      <record id="action_department_form" model="ir.actions.act_window.view">
          <field eval="2" name="sequence"/>
          <field name="view_mode">form</field>
          <field name="view_id" ref="department_view_form"/>
          <field name="act_window_id" ref="action_intelli_department"/>
        </record>


        </data>
    </odoo>
